{"uid":"4c1892a3f68148a9","name":"Detect required columns case-insensitively","fullName":"tests.test_update_genre.TestCSVProcessing#test_detect_columns","historyId":"350d7510c81ea6305069dfb6fef30db6","time":{"start":1765103665740,"stop":1765103665741,"duration":1},"status":"broken","statusMessage":"ValueError: CSV must include filename and genre columns (case‑insensitive)","statusTrace":"self = <test_update_genre.TestCSVProcessing object at 0x7fbae5e5a610>\n\n    @allure.story(\"Validation\")\n    @allure.title(\"Detect required columns case-insensitively\")\n    def test_detect_columns(self):\n        df = pd.DataFrame(columns=[\"File Name\", \"Genre\"])\n>       fn, gn = update_genre.detect_columns(df)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/test_update_genre.py:184: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ndf = Empty DataFrame\nColumns: [File Name, Genre]\nIndex: []\n\n    def detect_columns(df: pd.DataFrame) -> tuple[str, str]:\n        lower = {c.lower().strip(): c for c in df.columns}\n        fn_col = next((lower[c] for c in FILENAME_HEADERS if c in lower), None)\n        gn_col = next((lower[c] for c in GENRE_HEADERS if c in lower), None)\n        if not fn_col or not gn_col:\n>           raise ValueError(\"CSV must include filename and genre columns (case‑insensitive)\")\nE           ValueError: CSV must include filename and genre columns (case‑insensitive)\n\nuseful_tools/update_genre.py:156: ValueError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"afterStages":[],"labels":[{"name":"epic","value":"MP3 Tagger"},{"name":"story","value":"Validation"},{"name":"feature","value":"CSV Logic"},{"name":"suite","value":"Batch Processing"},{"name":"parentSuite","value":"tests"},{"name":"subSuite","value":"TestCSVProcessing"},{"name":"host","value":"runnervmoqczp"},{"name":"thread","value":"2529-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_update_genre"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":5,"skipped":0,"passed":0,"unknown":0,"total":5},"items":[{"uid":"ee074cce28c6e382","reportUrl":"https://TonyJayHunt.github.io/jukebox2/37/#testresult/ee074cce28c6e382","status":"broken","statusDetails":"ValueError: CSV must include filename and genre columns (case‑insensitive)","time":{"start":1764504654242,"stop":1764504654243,"duration":1}},{"uid":"6fb38b65cff5d7eb","reportUrl":"https://TonyJayHunt.github.io/jukebox2/36/#testresult/6fb38b65cff5d7eb","status":"broken","statusDetails":"ValueError: CSV must include filename and genre columns (case‑insensitive)","time":{"start":1764504642074,"stop":1764504642075,"duration":1}},{"uid":"d20687bdadf9b4e6","reportUrl":"https://TonyJayHunt.github.io/jukebox2/35/#testresult/d20687bdadf9b4e6","status":"broken","statusDetails":"ValueError: CSV must include filename and genre columns (case‑insensitive)","time":{"start":1764504442557,"stop":1764504442558,"duration":1}},{"uid":"ffb94e881c30e9e5","reportUrl":"https://TonyJayHunt.github.io/jukebox2/34/#testresult/ffb94e881c30e9e5","status":"broken","statusDetails":"ValueError: CSV must include filename and genre columns (case‑insensitive)","time":{"start":1764504236967,"stop":1764504236969,"duration":2}}]},"tags":[]},"source":"4c1892a3f68148a9.json","parameterValues":[]}